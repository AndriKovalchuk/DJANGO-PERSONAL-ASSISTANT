{% extends 'Personal_Assistant_WEB/base.html' %}
{% load static %}
{% load i18n %}

{% block content %}
<h2>{% trans 'Search Results Notes' %}</h2>
{% if query %}
<p>{% trans 'Showing results for' %}: "{{ query }}"</p>
{% endif %}
{% if not notes %}
<div class="alert alert-danger" role="alert">
    {% trans "We're sorry, but no results were found matching your search criteria. Please try again with different keywords or refine your search." %}
</div>
{% endif %}
{% for note in notes %}
<div class="card mb-3">
    <div class="card-header">
        {{ forloop.counter }}. {{ note.text }}
    </div>
    <div class="card-body">
        <p class="card-text">{% trans 'Description' %}: {{ note.description }}</p>
        <p class="card-text">{% trans 'Tags' %}:
            {% for tag in note.tags.all %}
            #{{ tag.name }}{% if not forloop.last %}, {% endif %}
            {% endfor %}</p>
        <a href="{% url 'contacts:edit_note' note.id %}" class="btn btn-primary">{% trans 'Edit' %}</a>
        <a href="{% url 'contacts:delete_note' note.id %}" class="btn btn-danger">{% trans 'Delete' %}</a>
    </div>
</div>
{% endfor %}
{% endblock %}
